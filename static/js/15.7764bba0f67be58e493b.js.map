{"version":3,"sources":["webpack:///src/views/excel/merge-count.vue","webpack:///./src/views/excel/merge-count.vue?0888","webpack:///./src/views/excel/merge-count.vue"],"names":["merge_count","data","tableData","computed","maxHeight","window","screen","availHeight","methods","getData","_this","this","Object","excel","then","res","console","log","getSummaries","param","columns","sums","forEach","column","index","_values","map","item","property","s1","reduce","prev","curr","value","Number","split","isNaN","s2","s3","toFixed","values","every","created","excel_merge_count","render","_vm","_h","$createElement","_c","_self","staticStyle","width","attrs","max-height","show-summary","summary-method","align","label","type","_v","show-overflow-tooltip","scopedSlots","_u","key","fn","scope","_s","row","compRatio","passcount","total","implementRatio","getover","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/15.7764bba0f67be58e493b.js","sourcesContent":["<template>\n  <div>\n    <el-table\n      :data=\"tableData\"\n      :max-height=\"maxHeight\"\n      show-summary\n      :summary-method=\"getSummaries\"\n      style=\"width: 100%\">\n      <el-table-column align=\"center\" label=\"发起人\">\n        <el-table-column type=\"selection\" width=\"60\" align=\"center\">\n        </el-table-column>\n        <el-table-column property=\"name\" align=\"center\" label=\"发起人\" show-overflow-tooltip>\n        </el-table-column>\n      </el-table-column>\n      \n      <el-table-column align=\"center\" label=\"发起任务\">\n        <el-table-column property=\"total\" align=\"center\" label=\"任务发起\" show-overflow-tooltip>\n        </el-table-column>\n        <el-table-column property=\"passcount\" align=\"center\" label=\"审核通过\" show-overflow-tooltip>\n        </el-table-column>\n        <el-table-column property=\"compRatio\" align=\"center\" label=\"任务完成率\" width=\"180\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.compRatio}} - ({{(scope.row.passcount * 100 / scope.row.total).toFixed(2)}}%)</span>\n          </template>\n        </el-table-column>\n      </el-table-column>\n      \n      <el-table-column align=\"center\" label=\"任务办理\">\n        <el-table-column property=\"notdo\" align=\"center\" label=\"未开始\" show-overflow-tooltip>\n        </el-table-column>\n        <el-table-column property=\"doing\" align=\"center\" label=\"办理中\" show-overflow-tooltip>\n        </el-table-column>\n        <el-table-column property=\"voertime\" align=\"center\" label=\"已过期\" show-overflow-tooltip>\n        </el-table-column>\n        <el-table-column property=\"getover\" align=\"center\" label=\"已完成\" show-overflow-tooltip>\n        </el-table-column>\n        <el-table-column property=\"implementRatio\" align=\"center\" label=\"任务执行率\" width=\"180\">\n            <template slot-scope=\"scope\">\n              <span>{{scope.row.implementRatio}} - ({{(scope.row.getover * 100 / scope.row.total).toFixed(2)}}%)</span>\n            </template>\n          </el-table-column>\n        </el-table-column>\n      </el-table-column>\n\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport { getMergeTable } from '@/api/excel'\nexport default {\n  data() {\n    return {\n      tableData: []\n    }\n  },\n  computed: {\n    maxHeight() {\n      return `${window.screen.availHeight - 220}px`\n    }\n  },\n  methods: {\n    getData() {\n      getMergeTable().then(res => {\n        console.log(res)\n        this.tableData = res.data\n      })\n    },\n    // 合计\n    getSummaries(param) {\n      const { columns, data } = param\n      const sums = []\n      columns.forEach((column, index) => {\n        if(index === 0) {\n          sums[index] = ''\n          return\n        }\n        if(index === 1) {\n          sums[index] = '总计'\n          return\n        }\n        if(index === 4 || index === 9) {\n          const values = data.map(item => item[column.property])\n          console.log(values)\n          // 分子\n          let s1 = values.reduce((prev, curr) => {\n            const value = Number(curr.split('/')[0])\n            if (!isNaN(value)) {\n              return prev + value\n            } else {\n              return prev\n            }\n          }, 0)\n          // 分母\n          let s2 = values.reduce((prev, curr) => {\n            const value = Number(curr.split('/')[1])\n            if (!isNaN(value)) {\n              return prev + value\n            } else {\n              return prev\n            }\n          }, 0)\n          // 百分比\n          let s3 = `${(s1 * 100 / s2).toFixed(2)}%`\n          sums[index] = `${s1}/${s2} - (${s3})`\n          sums[index] += ''\n          return\n        }\n        const values = data.map(item => Number(item[column.property]))\n        if (!values.every(value => isNaN(value))) {\n          sums[index] = values.reduce((prev, curr) => {\n            const value = Number(curr)\n            if (!isNaN(value)) {\n              return prev + curr\n            } else {\n              return prev\n            }\n          }, 0)\n          sums[index] += ''\n        } else {\n          sums[index] = 'N/A'\n        }\n      })\n      return sums\n    }\n  },\n  created() {\n    this.getData()\n  }\n}\n</script>\n\n<style scoped>\n  \n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/excel/merge-count.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"max-height\":_vm.maxHeight,\"show-summary\":\"\",\"summary-method\":_vm.getSummaries}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"发起人\"}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"60\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"name\",\"align\":\"center\",\"label\":\"发起人\",\"show-overflow-tooltip\":\"\"}})],1),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"发起任务\"}},[_c('el-table-column',{attrs:{\"property\":\"total\",\"align\":\"center\",\"label\":\"任务发起\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"passcount\",\"align\":\"center\",\"label\":\"审核通过\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"compRatio\",\"align\":\"center\",\"label\":\"任务完成率\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.compRatio)+\" - (\"+_vm._s((scope.row.passcount * 100 / scope.row.total).toFixed(2))+\"%)\")])]}}])})],1),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"任务办理\"}},[_c('el-table-column',{attrs:{\"property\":\"notdo\",\"align\":\"center\",\"label\":\"未开始\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"doing\",\"align\":\"center\",\"label\":\"办理中\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"voertime\",\"align\":\"center\",\"label\":\"已过期\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"getover\",\"align\":\"center\",\"label\":\"已完成\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"implementRatio\",\"align\":\"center\",\"label\":\"任务执行率\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.implementRatio)+\" - (\"+_vm._s((scope.row.getover * 100 / scope.row.total).toFixed(2))+\"%)\")])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1b7a49bb\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/excel/merge-count.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1b7a49bb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./merge-count.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./merge-count.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./merge-count.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1b7a49bb\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./merge-count.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1b7a49bb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/excel/merge-count.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}